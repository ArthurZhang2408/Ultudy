# Environment configuration for the backend service
PORT=3001
EMBEDDINGS_PROVIDER=mock
GEMINI_API_KEY=
GEMINI_EMBED_MODEL=gemini-embedding-001
GEMINI_EMBED_DIM=3072
LLM_PROVIDER=mock
GEMINI_GEN_MODEL=gemini-1.5-flash
OPENAI_API_KEY=

# Database
DATABASE_URL=postgres://postgres:postgres@localhost:5432/study_app

# Authentication
# Set to 'dev' for development with X-User-Id headers, or 'jwt' for production with Clerk
AUTH_MODE=jwt

# Clerk JWT Configuration (required when AUTH_MODE=jwt)
# Get these from https://dashboard.clerk.com -> API Keys -> Advanced -> JWT public key
AUTH_JWT_ISS=https://your-clerk-domain.clerk.accounts.dev
AUTH_JWT_AUD=
AUTH_JWT_JWKS_URL=https://your-clerk-domain.clerk.accounts.dev/.well-known/jwks.json

# For development mode (AUTH_MODE=dev), these are not needed
# The backend will accept X-User-Id headers for testing

# PDF Extraction Configuration
# Mode: 'enhanced' (rich content + native page ranges), 'standard' (fast), 'auto' (default)
# See PDF_EXTRACTION_GUIDE.md for details
PDF_EXTRACTION_MODE=enhanced

# Skip embeddings generation (useful during development to save API quota)
# WARNING: When set to 'true', the following features will NOT work:
#   - Vector-based search (/search endpoint will return empty results)
#   - RAG-based retrieval (chunks table will not be populated)
# Modern lesson generation uses full-context, so embeddings are optional.
# Set to 'false' if you need legacy search functionality.
SKIP_EMBEDDINGS=true
