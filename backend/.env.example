# Environment configuration for the backend service
PORT=3001
GEMINI_API_KEY=
LLM_PROVIDER=mock
GEMINI_GEN_MODEL=gemini-1.5-flash
OPENAI_API_KEY=

# Database
DATABASE_URL=postgres://postgres:postgres@localhost:5432/study_app

# Database Connection Pool (for high concurrency)
# Increased to support ~1,000 concurrent users (was 20)
# For 10k+ users, add PgBouncer connection pooler
DB_POOL_MAX=100
DB_POOL_MIN=10
DB_IDLE_TIMEOUT=30000
DB_CONNECT_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=60000

# Redis Cache (optional - for high performance)
# Leave empty to disable caching (app works fine without it)
# Format: redis://username:password@host:port
# Examples:
#   Local: redis://localhost:6379
#   Redis Cloud: redis://default:password@redis-12345.c1.us-east-1-1.ec2.cloud.redislabs.com:12345
#   AWS ElastiCache: redis://master.your-cluster.cache.amazonaws.com:6379
REDIS_URL=

# Authentication
# Set to 'dev' for development with X-User-Id headers, or 'jwt' for production with Clerk
AUTH_MODE=jwt

# Clerk JWT Configuration (required when AUTH_MODE=jwt)
# Get these from https://dashboard.clerk.com -> API Keys -> Advanced -> JWT public key
AUTH_JWT_ISS=https://your-clerk-domain.clerk.accounts.dev
AUTH_JWT_AUD=
AUTH_JWT_JWKS_URL=https://your-clerk-domain.clerk.accounts.dev/.well-known/jwks.json

# For development mode (AUTH_MODE=dev), these are not needed
# The backend will accept X-User-Id headers for testing

# PDF Extraction Configuration
# Mode: 'enhanced' (rich content + native page ranges), 'standard' (fast), 'auto' (default)
# See PDF_EXTRACTION_GUIDE.md for details
PDF_EXTRACTION_MODE=enhanced

# Job Queue Configuration
UPLOAD_QUEUE_CONCURRENCY=5
LESSON_QUEUE_CONCURRENCY=3
DISABLE_QUEUES=false

# Logging
LOG_LEVEL=INFO
